@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* --- Theme color definitions --- */
:root {
  --color-theme-muted-red: #b56576;
  --color-theme-muted-green: #6b9080;
  --color-theme-muted-blue: #6c8ebf;
  --color-theme-dark-red: #8b3a4a;
  --color-theme-dark-green: #3a5a48;
  --color-theme-dark-blue: #3a5a8b;
}

/* --- Light mode defaults --- */
:root,
[data-mode="light"] {
  --background: #ffffff;
  --foreground: #171717;
  --muted: #6b7280;
  --accent: #6c8ebf;
}

/* --- Dark mode --- */
[data-mode="dark"] {
  --background: #121212;
  --foreground: #ededed;
  --muted: #9ca3af;
  --accent: #6c8ebf;
}

/* --- Theme color overrides --- */
[data-theme="muted-red"] {
  --accent: var(--color-theme-muted-red);
}
[data-theme="muted-green"] {
  --accent: var(--color-theme-muted-green);
}
[data-theme="muted-blue"] {
  --accent: var(--color-theme-muted-blue);
}
[data-theme="dark-red"] {
  --accent: var(--color-theme-dark-red);
}
[data-theme="dark-green"] {
  --accent: var(--color-theme-dark-green);
}
[data-theme="dark-blue"] {
  --accent: var(--color-theme-dark-blue);
}

@theme inline {
  --color-bg: var(--background);
  --color-fg: var(--foreground);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, "Cascadia Code", "Fira Code", monospace;
}

html,
body {
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* --- Legacy utility classes (backward compat with existing components) --- */
@utility default-border {
  border-color: var(--accent);
}

@utility background {
  background: var(--background);
}

@utility selected {
  color: var(--background);
  background: var(--accent);
}

.input-text {
  @apply px-4 py-2 m-2 border;
  border-color: var(--accent);
}

.p {
  @apply my-2;
}

.button {
  @apply default-border border rounded px-4 py-2 m-2 background font-medium hover:selected transition-all disabled:opacity-50 disabled:cursor-not-allowed;
}

.centered {
  @apply w-full px-2 max-w-[1000px] mx-auto;
}

.overlay {
  @apply fixed inset-0 bg-gray-700/10 backdrop-blur-xs grid place-items-center p-6;
  z-index: 50;
}

.dialog {
  @apply relative w-full max-w-[720px] max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl shadow-black/25 p-6;
  background: var(--background);
  color: var(--foreground);
  border: 1px solid var(--accent);
}

button {
  @apply cursor-pointer;
  touch-action: manipulation;
}

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out backwards;
}

.animate-fade-out {
  animation: fade-out 0.3s ease-in forwards;
}
